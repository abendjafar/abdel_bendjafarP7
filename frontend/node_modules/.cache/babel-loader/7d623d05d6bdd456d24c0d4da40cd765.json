{"ast":null,"code":"var _jsxFileName = \"/Users/abdelbendjafar/Documents/DEV/P7_Groupomania/front/src/components/Home/Home.js\";\nimport React from \"react\";\nimport axios from \"axios\"; // Import components\n\nimport App from \"../App\";\nimport Avatar from \"../Avatar/Avatar\";\nimport Articles from \"../Articles/Articles\";\nimport Loader from \"../Loader/Loader\"; // For Profile\n\nimport Profile from \"../Profile/Profile\"; // For Admin\n\nimport Admin from \"../Admin/Admin\"; // Import styles\n\nimport \"./Home.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // DATAS\n      articles: props.articles,\n      userLogged: props.userLogged,\n      jobsList: null,\n      // OPTIONS\n      isLoading: false,\n      // Active for all get request\n      curPage: 'Home'\n    }; // Url\n\n    this.jobUrl = 'http://localhost:8080/api/jobs'; // OnClick\n\n    this.navigateTo = this.navigateTo.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    this.getJobs();\n  } // Récuperation des emplois.\n\n\n  async getJobs() {\n    const {\n      curJobId\n    } = this.state;\n    this.setState({\n      isLoading: true\n    });\n    let jobs = await axios.get(this.jobUrl).then(res => {\n      res.data.jobs.forEach((job, index) => {\n        if (job.id === curJobId) this.setState({\n          curPosJob: index\n        });\n      });\n      return res.data.jobs;\n    });\n    this.setState({\n      jobsList: jobs,\n      isLoading: false\n    });\n  } // Modification de la page à afficher.\n\n\n  navigateTo(event) {\n    const myPage = event.target.id;\n    this.setState({\n      curPage: myPage\n    });\n  } // Déconnexion de l'utilisateur.\n\n\n  logout() {\n    if (window.confirm('Vous êtes sur le point de vous déconnectez...\\nÊtes vous sûre ?')) {\n      sessionStorage.clear();\n      App.ReloadApp();\n    }\n  } // Mise en place du composant selon la page actuelle. (curPage)\n\n\n  setComponent() {\n    const {\n      curPage,\n      articles,\n      jobsList,\n      userLogged\n    } = this.state;\n\n    switch (curPage) {\n      case 'Home':\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Articles, {\n            articles: articles,\n            userLogged: userLogged,\n            navigateTo: this.navigateTo,\n            logout: this.logout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this)\n        }, void 0, false);\n\n      case 'Profile':\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Profile, {\n            userLogged: userLogged,\n            jobsList: jobsList,\n            navigateTo: this.navigateTo,\n            logout: this.logout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this)\n        }, void 0, false);\n\n      case 'Admin':\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Admin, {\n            userLogged: userLogged,\n            jobsList: jobsList,\n            navigateTo: this.navigateTo,\n            logout: this.logout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 19\n          }, this)\n        }, void 0, false);\n\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const {\n      isLoading,\n      curPage,\n      userLogged\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        children: userLogged ? /*#__PURE__*/_jsxDEV(Avatar, {\n          dataUser: userLogged,\n          isClickable: true,\n          navigateTo: this.navigateTo,\n          logout: this.logout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this), !isLoading && curPage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: this.setComponent()\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)\n      }, void 0, false)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["React","axios","App","Avatar","Articles","Loader","Profile","Admin","Home","Component","constructor","props","state","articles","userLogged","jobsList","isLoading","curPage","jobUrl","navigateTo","bind","logout","componentDidMount","getJobs","curJobId","setState","jobs","get","then","res","data","forEach","job","index","id","curPosJob","event","myPage","target","window","confirm","sessionStorage","clear","ReloadApp","setComponent","render"],"sources":["/Users/abdelbendjafar/Documents/DEV/P7_Groupomania/front/src/components/Home/Home.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n// Import components\nimport App from \"../App\";\nimport Avatar from \"../Avatar/Avatar\";\nimport Articles from \"../Articles/Articles\";\nimport Loader from \"../Loader/Loader\";\n// For Profile\nimport Profile from \"../Profile/Profile\";\n// For Admin\nimport Admin from \"../Admin/Admin\";\n// Import styles\nimport \"./Home.css\";\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // DATAS\n      articles: props.articles,\n      userLogged: props.userLogged,\n      jobsList: null,\n      // OPTIONS\n      isLoading: false,                   // Active for all get request\n      curPage: 'Home'\n    }\n    // Url\n    this.jobUrl = 'http://localhost:8080/api/jobs';\n    // OnClick\n    this.navigateTo = this.navigateTo.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    this.getJobs();\n  }\n\n  // Récuperation des emplois.\n  async getJobs() {\n    const { curJobId } = this.state;\n    this.setState({ isLoading: true });\n    let jobs = await axios.get(this.jobUrl).then((res) => {\n      res.data.jobs.forEach((job, index) => {\n        if(job.id === curJobId) this.setState({ curPosJob: index });\n      });\n      return res.data.jobs;\n    })\n    this.setState({ jobsList: jobs, isLoading: false });\n  }\n\n  // Modification de la page à afficher.\n  navigateTo(event) {\n    const myPage = event.target.id;\n    this.setState({ curPage: myPage });\n  }\n\n  // Déconnexion de l'utilisateur.\n  logout() {\n    if(window.confirm('Vous êtes sur le point de vous déconnectez...\\nÊtes vous sûre ?')) {\n      sessionStorage.clear();\n      App.ReloadApp();\n    }\n  }\n\n  // Mise en place du composant selon la page actuelle. (curPage)\n  setComponent() {\n    const { curPage, articles, jobsList, userLogged } = this.state;\n    switch (curPage) {\n      case 'Home':\n          return (<><Articles articles={articles} userLogged={userLogged} navigateTo={this.navigateTo} logout={this.logout} /></>);\n      case 'Profile':\n          return (<><Profile userLogged={userLogged} jobsList={jobsList} navigateTo={this.navigateTo} logout={this.logout} /></>);\n      case 'Admin':\n        return (<><Admin userLogged={userLogged} jobsList={jobsList} navigateTo={this.navigateTo} logout={this.logout} /></>);\n      default:\n      break;\n    }\n  }\n\n  render() {\n    const { isLoading, curPage, userLogged } = this.state;\n    return (<>\n      <nav>\n          {userLogged ? <Avatar dataUser={userLogged} isClickable={true} navigateTo={this.navigateTo} logout={this.logout} /> : null}\n      </nav>\n\n      {!isLoading && curPage ? (<>\n        {this.setComponent()}\n      </>) : (<><Loader /></>)}\n\n    </>)\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}